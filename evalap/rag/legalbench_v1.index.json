{
  "elasticsearch": {
    "settings": {
      "similarity": {
        "default": { "type": "BM25" }
      },
      "analysis": {
        "analyzer": {
          "french_analyzer": {
            "tokenizer": "standard",
            "filter": [
              "lowercase", 
              "unique",
              "ignore_number",
              "ignore_special",
              "french_stop", 
              "french_stemmer"
            ]
          }
        },
        "filter": {
          "ignore_number": { "type": "pattern_replace", "pattern": "\b[0-9]+\b","replacement": " " },
          "ignore_special": { "type": "pattern_replace", "pattern": "\b[x]\b","replacement": " " },
          "french_stop": { "type": "stop", "stopwords": "_french_" },
          "french_stemmer": { "type": "stemmer", "language": "light_french" }
        }
      }
    },
    "mappings": {
      "dynamic": false,
      "properties": {
        "text": {"type": "text", "analyzer": "english"},
        "embedding": {"type": "dense_vector", "dims": "__EMBEDDING_SIZE__", "similarity": "cosine", "index_options": {"type": "hnsw"}}
      }
    }
  }
}
